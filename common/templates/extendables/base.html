{% load static %}

<!DOCTYPE html>

<html lang="en">

	<!-- begin::Head -->
	<head>
		{% include 'partials/_analytics/gtm_head.html' %}
		{% include 'partials/_favicon.html' %}

		<base href="">
		<meta charset="utf-8" />
		<title>{% block title %}{% endblock %}</title>
		<meta name="description" content="Latest updates and statistic charts">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700">
		<link href="{% static 'common/assets/plugins/global/plugins.bundle.css' %}" rel="stylesheet" type="text/css" />
		<link href="{% static 'common/assets/css/style.bundle.css' %}" rel="stylesheet" type="text/css" />
    </head>
    <!-- end::Head -->

	<!-- begin::Body -->
	<body class="kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header--minimize-menu kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-aside--enabled kt-aside--left kt-aside--fixed kt-page--loading">
		{% include 'partials/_analytics/gtm_body.html' %}

        <!-- begin::Page -->
        
		{% include 'partials/_header/base-mobile.html' %}

        <div class="kt-grid kt-grid--hor kt-grid--root">
            <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
                <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">

                    {% include 'partials/_header/base.html' %}

                    <div class="kt-body kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-grid--stretch" id="kt_body">
                        <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">

							<!-- begin:: Content Head -->
							<div class="kt-subheader kt-grid__item" id="kt_subheader">
								<div class="kt-container ">
									<div class="kt-subheader__main">
										<h3 class="kt-subheader__title">{% block subtitle %}{% endblock %}</h3>
										{% block subheader_content %}{% endblock %}
									</div>
									<div class="kt-subheader__toolbar">
										<div class="kt-subheader__wrapper">
											{% block toolbar %}{% endblock %}
										</div>
									</div>
								</div>
							</div>
							<!-- end:: Content Head -->

							<!-- begin: Content Body -->
							{% block content %}{% endblock %}
							<!-- end: Content Body -->
                        </div>
                    </div>

                    {% include 'partials/_footer/base.html' %}
                </div>
            </div>
        </div>
        <!-- end::Page -->

        {% include 'partials/_scrolltop.html' %}

        <!-- begin::Global Config(global config for global JS sciprts) -->
        <script>
            var KTAppOptions = {
                "colors": {
                    "state": {
                        "brand": "#591df1",
                        "light": "#ffffff",
                        "dark": "#282a3c",
                        "primary": "#5867dd",
                        "success": "#34bfa3",
                        "info": "#36a3f7",
                        "warning": "#ffb822",
                        "danger": "#fd3995"
                    },
                    "base": {
                        "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
                        "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
                    }
                }
            };
        </script>
        <!-- end::Global Config -->

		<!-- begin:Global scripts -->
		<script src="{% static 'common/assets/plugins/global/plugins.bundle.js' %}" type="text/javascript"></script>
		<script src="{% static 'common/assets/js/scripts.bundle.js' %}" type="text/javascript"></script>
		<!-- end:Global scripts -->

		<!-- begin:Page-level scripts -->
		<script src="{% static 'common/assets/plugins/pdfobject/pdfobject.min.js' %}" type="text/javascript"></script>
		<script src="{% static 'common/assets/js/pages/crud/forms/widgets/autosize.js' %}" type="text/javascript"></script>
		<script src="{% static 'common/assets/js/pages/crud/forms/widgets/bootstrap-datepicker.js' %}" type="text/javascript"></script>
		<script src="{% static 'common/assets/js/pages/crud/forms/widgets/typeahead.js' %}" type="text/javascript"></script>
		<script src="{% static 'common/assets/js/pages/crud/forms/widgets/select2.js' %}" type="text/javascript"></script>
		<!-- end:Page-level scripts -->


		<!-- testing -->
		<!--<script src="{% static 'common/assets/js/pages/crud/forms/widgets/form-repeater.js' %}" type="text/javascript"></script> -->

		<script type="text/javascript">

		// ***** Bootstrap Select *****

		// Class definition
		var KTBootstrapSelect = function () {
			
			// Private functions
			var demos = function () {
				// minimum setup
				$('.kt-selectpicker').selectpicker();
			}

			return {
				// public functions
				init: function() {
					demos(); 
				}
			};
		}();


		// ***** Notifications *****






		// TO BE CONTINUED





		// ***** Run JS code *****
		jQuery(document).ready(function() {
			KTBootstrapSelect.init();
		});
		
		</script>





		<!-- Notify -->
		<script>
	
			//// Version Created
	
			var content = {};
	
			// content.title = 'KIYOKO SODIUM CHLORIDE APPLE 80KG/PACK';
			content.message = 'New Version Created';
			content.icon = 'icon flaticon-add';
	
			/*
			var notify = $.notify(content, { 
				type: 'success',
				allow_dismiss: true,
				newest_on_top: true,
				mouse_over:  true,
				// showProgressbar:  $('#kt_notify_progress').prop('checked'),
				spacing: 10,                    
				timer: 3000,
				placement: {
					from: 'top', 
					align: 'right'
				},
				offset: {
					x: 30,
					y: 30
				},
				delay: 1000,
				z_index: 10000,
				animate: {
					enter: 'animated fadeIn',
					exit: 'animated fadeOut'
				}
			});
			*/
	
			//// Version Deleted
	
			var content = {};
	
			content.title = 'Version: 29 December 2019 8:45 AM';
			content.message = 'Version Deleted';
			content.icon = 'icon flaticon-delete';
	
			/*
			var notify = $.notify(content, { 
				type: 'danger',
				allow_dismiss: true,
				newest_on_top: true,
				mouse_over:  true,
				// showProgressbar:  $('#kt_notify_progress').prop('checked'),
				spacing: 10,                    
				timer: 3000,
				placement: {
					from: 'top', 
					align: 'right'
				},
				offset: {
					x: 30,
					y: 30
				},
				delay: 1000,
				z_index: 10000,
				animate: {
					enter: 'animated fadeIn',
					exit: 'animated fadeOut'
				}
			});
			*/
	
	
	
			//// User will be forwarded here when the document is created
	
			var content = {};
	
			content.title = 'KIYOKO SODIUM CHLORIDE APPLE 80KG/PACK';
			content.message = 'New Document Created';
			content.icon = 'icon flaticon2-add-1';
	
			/*
			var notify = $.notify(content, { 
				type: 'success',
				allow_dismiss: true,
				newest_on_top: true,
				mouse_over:  true,
				// showProgressbar:  $('#kt_notify_progress').prop('checked'),
				spacing: 10,                    
				timer: 3000,
				placement: {
					from: 'top', 
					align: 'right'
				},
				offset: {
					x: 30,
					y: 30
				},
				delay: 1000,
				z_index: 10000,
				animate: {
					enter: 'animated fadeIn',
					exit: 'animated fadeOut'
				}
			});
			*/
	
		</script>



		<!-- Documents page form -->
		<!-- <script type="text/javascript">
			window.onload = function() {

				// Multi-select "Clear" link
				var a = document.getElementById("documents-doctype-picker-clear-link");
				a.onclick = function() {
					$('#documents-doctype-picker').selectpicker('deselectAll')
					return false
				}

				// Enable/disable submit button

				var picker = $('#documents-doctype-picker')
				var searchTxt = $('#documents-form-search-txt')
				var submitBtn = $('#documents-form-submit')

				var origVals = picker.val()
				picker.change(function () {
					var disabled = true
					if (JSON.stringify(origVals) != JSON.stringify(picker.val())) { disabled = false }
					submitBtn.prop('disabled', disabled)
				})

				var origSearchTxt = searchTxt.val()
				searchTxt.on('input', function(e) {
					var disabled = true
					if (origSearchTxt != searchTxt.val()) { disabled = false }
					submitBtn.prop('disabled', disabled)
				})
			}
		</script> -->


		<script type="text/javascript">

			// THERE IS ROOM FOR REFACTORING

			// Clear links

			$(document).ready(function() {
				let docTypesClearLink = $("#DocSent__docTypesClearLink");
				docTypesClearLink.click(function(e) {
					$("#DocSent__docTypesPicker").selectpicker('deselectAll');
					e.preventDefault();
				});

				let recEmailsClearLink = $("#DocSent__recEmailsClearLink");
				recEmailsClearLink.click(function(e) {
					$("#DocSent__recEmailsPicker").selectpicker('deselectAll');
					e.preventDefault();
				});

				function setDocTypesClearLinkVisibility() {
					let selected = $("#DocSent__docTypesPicker").val();
					if (selected.length > 0) {
						docTypesClearLink.removeClass("kt-hidden");
					} else {
						docTypesClearLink.addClass("kt-hidden");
					}
				}

				function setRecEmailsClearLinkVisibility() {
					let selected = $("#DocSent__recEmailsPicker").val();
					if (selected.length > 0) {
						recEmailsClearLink.removeClass("kt-hidden");
					} else {
						recEmailsClearLink.addClass("kt-hidden");
					}
				}

				setDocTypesClearLinkVisibility();
				setRecEmailsClearLinkVisibility();

				// Show the 'Clear' link if the user has selected at least 1
				// item in the picker

				let docTypesPicker = $("#DocSent__docTypesPicker");
				docTypesPicker.change(function(e) {
					setDocTypesClearLinkVisibility();
				});

				let recEmailsPicker = $("#DocSent__recEmailsPicker");
				recEmailsPicker.change(function(e) {
					setRecEmailsClearLinkVisibility();
				});
			});

		</script>


		<script>
			var options = {
				height: "1200px"
			};
			PDFObject.embed("{% static 'common/media/sample_pdfs/sample-coa.pdf' %}", "#document-pdf", options);
		</script>

		<script>
		
		// Class definition
		var KTTypeahead = function() {

		// var states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
		// 		'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii',
		// 		'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana',
		// 		'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
		// 		'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire',
		// 		'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota',
		// 		'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island',
		// 		'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont',
		// 		'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'
		// 	];

		var states = ['kevinngsw@gmail.com', 'kevinngsw@hotmail.com', 'kevinngsw@yahoo.com'];

		// Private functions
		var demo1 = function() {
			var substringMatcher = function(strs) {
				return function findMatches(q, cb) {
					var matches, substringRegex;

					// an array that will be populated with substring matches
					matches = [];

					// regex used to determine if a string contains the substring `q`
					substrRegex = new RegExp(q, 'i');

					// iterate through the pool of strings and for any string that
					// contains the substring `q`, add it to the `matches` array
					$.each(strs, function(i, str) {
						if (substrRegex.test(str)) {
							matches.push(str);
						}
					});

					cb(matches);
				};
			};

			$('#kt_typeahead_1, #kt_typeahead_1_modal, #kt_typeahead_1_validate, #kt_typeahead_2_validate, #kt_typeahead_3_validate').typeahead({
				hint: true,
				highlight: true,
				minLength: 1
			}, {
				name: 'states',
				source: substringMatcher(states)
			});
		}

		var demo2 = function() {
			// constructs the suggestion engine
			var bloodhound = new Bloodhound({
				datumTokenizer: Bloodhound.tokenizers.whitespace,
				queryTokenizer: Bloodhound.tokenizers.whitespace,
				// `states` is an array of state names defined in "The Basics"
				local: states
			});

			$('#kt_typeahead_2, #kt_typeahead_2_modal').typeahead({
				hint: true,
				highlight: true,
				minLength: 1
			},
			{
				name: 'states',
				source: bloodhound
			}); 
		}

		var demo3 = function() {
			var countries = new Bloodhound({
				datumTokenizer: Bloodhound.tokenizers.whitespace,
				queryTokenizer: Bloodhound.tokenizers.whitespace,
				// url points to a json file that contains an array of country names, see
				// https://github.com/twitter/typeahead.js/blob/gh-pages/data/countries.json
				prefetch: 'https://keenthemes.com/metronic/tools/preview/api/typeahead/countries.json'
			});

			// passing in `null` for the `options` arguments will result in the default
			// options being used
			$('#kt_typeahead_3, #kt_typeahead_3_modal').typeahead(null, {
				name: 'countries',
				source: countries
			});
		}

		var demo4 = function() {
			var bestPictures = new Bloodhound({
			datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
			queryTokenizer: Bloodhound.tokenizers.whitespace,
			prefetch: 'https://keenthemes.com/metronic/tools/preview/api/typeahead/movies.json'
			});

			$('#kt_typeahead_4').typeahead(null, {
				name: 'best-pictures',
				display: 'value',
				source: bestPictures,
				templates: {
					empty: [
						'<div class="empty-message" style="padding: 10px 15px; text-align: center;">',
							'unable to find any Best Picture winners that match the current query',
						'</div>'
					].join('\n'),
					suggestion: Handlebars.compile('<div><strong>{{value}}</strong> – {{year}}</div>')
				}
			});
		}

		var demo5 = function() {
			var nbaTeams = new Bloodhound({
				datumTokenizer: Bloodhound.tokenizers.obj.whitespace('team'),
				queryTokenizer: Bloodhound.tokenizers.whitespace,
				prefetch: 'https://keenthemes.com/metronic/tools/preview/api/typeahead/nba.json'
			});

			var nhlTeams = new Bloodhound({
				datumTokenizer: Bloodhound.tokenizers.obj.whitespace('team'),
				queryTokenizer: Bloodhound.tokenizers.whitespace,
				prefetch: 'https://keenthemes.com/metronic/tools/preview/api/typeahead/nhl.json'
			});

			$('#kt_typeahead_5').typeahead({
					highlight: true
				},{
					name: 'nba-teams',
					display: 'team',
					source: nbaTeams,
					templates: {
						header: '<h3 class="league-name" style="padding: 5px 15px; font-size: 1.2rem; margin:0;">NBA Teams</h3>'
					}
				},{
					name: 'nhl-teams',
					display: 'team',
					source: nhlTeams,
					templates: {
						header: '<h3 class="league-name" style="padding: 5px 15px; font-size: 1.2rem; margin:0;">NHL Teams</h3>'
					}
				}
			);
		}

		return {
			// public functions
			init: function() {
				demo1();
				demo2();
				demo3();
				demo4();
				demo5();
			}
		};
		}();

		jQuery(document).ready(function() {
		KTTypeahead.init();
		});
				
		</script>

		<!-- Documents page form -->
		<script type="text/javascript">

			// TODO: put all override scripts here, and then refactor them out
			// Likely create a separate branch in eb-metronic-flask for building the outputs of this project

			// These was for the old search interface
			// window.onload = function() {

			// 	// Multi-select "Clear" link
			// 	var a = document.getElementById("documents-doctype-picker-clear-link");
			// 	a.onclick = function() {
			// 		$('#documents-doctype-picker').selectpicker('deselectAll')
			// 		return false
			// 	}

			// 	// Enable/disable submit button

			// 	var picker = $('#documents-doctype-picker')
			// 	var searchTxt = $('#documents-form-search-txt')
			// 	var submitBtn = $('#documents-form-submit')

			// 	var origVals = picker.val()
			// 	picker.change(function () {
			// 		var disabled = true
			// 		if (JSON.stringify(origVals) != JSON.stringify(picker.val())) { disabled = false }
			// 		submitBtn.prop('disabled', disabled)
			// 	})

			// 	var origSearchTxt = searchTxt.val()
			// 	searchTxt.on('input', function(e) {
			// 		var disabled = true
			// 		if (origSearchTxt != searchTxt.val()) { disabled = false }
			// 		submitBtn.prop('disabled', disabled)
			// 	})
			// }
		</script>
	</body>
	<!-- end::Body -->
</html>