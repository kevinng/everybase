{% extends 'leads/extendables/contact_details.html' %}

{% block tabs %}
{% include 'leads/includes/contact_details_tabs.html' with private_notes=True contact=contact %}
{% endblock %}

{% block tab_content %}
<h6>{% include 'leads/includes/tooltips/private_notes/private_notes.txt' %}</h4>

<div class="card mt-4 shadow-sm">
    <form action="{% url 'leads:contact_detail_private_notes' contact.id %}" method="post">
        {% csrf_token %}

        <div class="card-body">
            <div class="form-floating">
                <textarea class="form-control" data-kt-autosize="true" maxlength="500" placeholder="Comments" name="body" id="body">{% if form.body.value != None %}{{ form.body.value }}{% endif %}</textarea>
                <label for="body">Private Notes</label>
            </div>
            {% if form.body.errors %}<div class="text-danger">{% for error in form.body.errors %}{{ error|escape }}{% if not forloop.last %} {% endif %}{% endfor %}</div>{% endif %}

            <div class="form-check form-check-custom mt-4">
                <div class="me-3">
                    <input class="form-check-input me-2" type="radio" name="relevance" id="relevant" value="relevant"{% if form.relevance.value == 'relevant' %} checked{% endif %}/>
                    <label for="relevant"><span class="badge badge-success" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{% include 'leads/includes/tooltips/private_notes/relevant.txt' %}">Relevant</span></label>
                </div>
            </div>

            <div class="form-check form-check-custom mt-2">
                <div class="me-3">
                    <input class="form-check-input me-2" type="radio" name="relevance" id="maybe_later" value="maybe_later"{% if form.relevance.value == 'maybe_later' %} checked{% endif %}/>
                    <label for="maybe_later"><span class="badge badge-warning" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{% include 'leads/includes/tooltips/private_notes/maybe_later.txt' %}">Maybe Later</span></label>
                </div>
            </div>

            <div class="form-check form-check-custom mt-2">
                <div class="me-3">
                    <input class="form-check-input me-2" type="radio" name="relevance" id="not_relevant" value="not_relevant"{% if form.relevance.value == 'not_relevant' %} checked{% endif %}/>
                    <label for="not_relevant"><span class="badge badge-danger" data-bs-toggle="tooltip" data-bs-placement="bottom" title="{% include 'leads/includes/tooltips/private_notes/not_relevant.txt' %}">Not Relevant</span></label>
                </div>
            </div>

            {% if form.relevance.errors %}<div class="text-danger">{% for error in form.relevance.errors %}{{ error|escape }}{% if not forloop.last %} {% endif %}{% endfor %}</div>{% endif %}

            <div class="d-flex justify-content-end mt-4">
                <button type="submit" class="btn btn-primary">Add</button>
            </div>
        </div>
    </form>
</div>

{% if page_obj|length > 0 %}
    {% for note in page_obj %}
        {% include 'leads/includes/contact_note_item.html' with note=note %}
    {% endfor %}
{% endif %}

{% include 'includes/paginator.html' %}
{% endblock %}